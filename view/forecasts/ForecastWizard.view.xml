<mvc:View
	controllerName="view.forecasts.ForecastWizard"
	xmlns="sap.m"
  xmlns:l="sap.ui.layout"
  xmlns:f="sap.ui.layout.form"
	xmlns:core="sap.ui.core"
	xmlns:mvc="sap.ui.core.mvc">
  <NavContainer
    id="idForecastWizardNavContainer">
    <pages>
      <Page
    		id="idNewForecastWizardPage1"
    		title="New forecast Wizard"
    		enableScrolling="false"
    		showNavButton="false"
    		navButtonPress="onNavBackPress">
        <footer>
          <!-- Toolbar + Cancel button -->
          <core:Fragment
            fragmentName="view.forecasts.ForecastWizardFooter"
						type="XML" />
        </footer>
    		<content>
          <l:Grid
            defaultSpan="L12 M12 S12"
            width="auto"
            class="sapUiSmallMargin">
            <l:content>
              <Title
                text="Step 1 - Name your forecast"
                level="H1"
                titleStyle="H1" />
							<Text text="All good forecasts need a name. And this one's no different!
								Note also, that upon completing this wizard and running your forecast,
								it will be placed in the folder identified below so you can find it later..." />
              <f:SimpleForm
                id="idNewForecastNameForm"
                maxContainerCols="2"
                editable="true"
                layout="ResponsiveGridLayout"
                labelSpanL="3"
                labelSpanM="3"
                emptySpanL="4"
                emptySpanM="4"
                columnsL="1"
                columnsM="1"
                class="editableForm">
                <f:content>
                  <Label
                    text="Folder">
    								<layoutData>
    									<l:GridData
    										span="L3 M3 S12" />
    								</layoutData>
    							</Label>
                  <Input
                    id="idNewForecastFolderInput"
                    enabled="false" >
    								<layoutData>
    									<l:GridData
    										span="L9 M9 S12" />
    								</layoutData>
    							</Input>
    							<Label
                    text="Forecast name"
    								required="true">
    								<layoutData>
    									<l:GridData
    										span="L3 M3 S12" />
    								</layoutData>
    							</Label>
                  <Input
                    id="idNewForecastNameInput"
										placeHolder="My new forecast"
										maxLength="80">
    								<layoutData>
    									<l:GridData
    										span="L9 M9 S12" />
    								</layoutData>
    							</Input>
                </f:content>
              </f:SimpleForm>
            </l:content>
          </l:Grid>
    		</content>
      </Page>

      <!-- Page 2 -->
      <Page
    		id="idNewForecastWizardPage2"
    		title="Select data set"
    		enableScrolling="false"
    		showNavButton="true"
    		navButtonPress="onNavBackPress">
        <footer>
          <!-- Toolbar + Cancel button -->
          <core:Fragment
            fragmentName="view.forecasts.ForecastWizardFooter"
						type="XML" />
        </footer>
    		<content>
          <l:Grid
            defaultSpan="L12 M12 S12"
            width="auto"
            class="sapUiSmallMargin">
            <l:content>
              <Title
                text="Step 2 - Select a data set"
                level="H1"
                titleStyle="H1" />
							<Text text="Pick one of your previously configured data sets.
								This will be used to supply 'training data' to the forecast.
								We'll also use it's fields to determine which you'd	like to forecast,
								and which fields you'd like to optionally use as variables." />
            </l:content>
          </l:Grid>
    			<TileContainer
    				id="idDatasetsTileContainer"
    				allowAdd="false"
            tiles="{
							path: 'dataset>/DataSets',
							parameters : {
								expand : 'DataSource'
							},
							sorter : [{
								path : 'DataSource/name',
								descending : false,
								group : true
							}],
							filters : [{
								path : 'endda',
								operator : 'EQ',
								value1: '9999-12-31'
							}]
						}">
            <StandardTile
							icon="sap-icon://{dataset>DataSource/icon}"
							title="{dataset>name}"
							info="{dataset>DataSource/name}"
              press="onForecastWizardDataSetTilePress"/>
          </TileContainer>
    		</content>
      </Page>

			<!-- Page 3 -->
      <Page
    		id="idNewForecastWizardPage3"
    		title="Forecast field"
    		enableScrolling="false"
    		showNavButton="true"
    		navButtonPress="onNavBackPress">
        <footer>
          <!-- Toolbar + Cancel button -->
          <core:Fragment
            fragmentName="view.forecasts.ForecastWizardFooter"
						type="XML" />
        </footer>
    		<content>
          <l:Grid
            defaultSpan="L12 M12 S12"
            width="auto"
            class="sapUiSmallMargin">
            <l:content>
              <Title
                text="Step 3 - Select date field"
                level="H1"
                titleStyle="H1" />
							<Text text="Here are the columns in your data set - please pick the one representing date." />
							<!-- Column selection -->
							<core:Fragment
								id="idForecastWizardDateFragment"
								fragmentName="view.forecasts.ForecastDate"
								type="XML" />
            </l:content>
          </l:Grid>
				</content>
      </Page>

			<!-- Page 4 -->
      <Page
    		id="idNewForecastWizardPage4"
    		title="Forecast field"
    		enableScrolling="false"
    		showNavButton="true"
    		navButtonPress="onNavBackPress">
        <footer>
          <!-- Toolbar + Cancel button -->
          <core:Fragment
            fragmentName="view.forecasts.ForecastWizardFooter"
						type="XML" />
        </footer>
    		<content>
          <l:Grid
            defaultSpan="L12 M12 S12"
            width="auto"
            class="sapUiSmallMargin">
            <l:content>
              <Title
                text="Step 4 - Select forecast field"
                level="H1"
                titleStyle="H1" />
							<Text text="Great, thanks for that. Could you also identify the field
								you'd like to forecast (this is the field for which you'll be creating
								future values for)." />
							<!-- Column selection -->
							<core:Fragment
								id="idForecastWizardForecastFragment"
								fragmentName="view.forecasts.ForecastField"
								type="XML" />
            </l:content>
          </l:Grid>
				</content>
      </Page>

			<!-- Page 5 -->
      <Page
    		id="idNewForecastWizardPage5"
    		title="Variable fields"
    		enableScrolling="false"
    		showNavButton="true"
    		navButtonPress="onNavBackPress">
        <footer>
          <!-- Toolbar + Cancel button -->
          <core:Fragment
            fragmentName="view.forecasts.ForecastWizardFooter"
						type="XML" />
        </footer>
    		<content>
          <l:Grid
            defaultSpan="L12 M12 S12"
            width="auto"
            class="sapUiSmallMargin">
            <l:content>
              <Title
                text="Step 5 - Select forecast variable fields"
                level="H1"
                titleStyle="H1" />
							<Text text="Now that you have selected your date and forecast field, you're also able
								to indicate which fields should act as 'variables'. Variables are considered
								to have an effect on the forecast, and thus will be used to make your forecast
								more accurate. Please note, that if a selected variable has no correlation to the
								forecast field, selecting it as a variable may adversely affect your forecast." />
							<!-- Column selection -->
							<core:Fragment
								id="idForecastWizardVariablesFragment"
								fragmentName="view.forecasts.VariableFields"
								type="XML" />
            </l:content>
          </l:Grid>
				</content>
      </Page>

			<!-- Page 6 -->
      <Page
    		id="idNewForecastWizardPage6"
    		title="Frequency and effective date"
    		enableScrolling="false"
    		showNavButton="true"
    		navButtonPress="onNavBackPress">
        <footer>
          <!-- Toolbar + Cancel button -->
          <core:Fragment
            fragmentName="view.forecasts.ForecastWizardFooter"
						type="XML" />
        </footer>
    		<content>
          <l:Grid
            defaultSpan="L12 M12 S12"
            width="auto"
            class="sapUiSmallMargin">
            <l:content>
              <Title
                text="Step 6 - set your frequency and effective date"
                level="H1"
                titleStyle="H1" />
							<Text text="The data set you've supplied has training data from {
									path : 'dataset>begda',
									formatter : 'util.DateFormatter.ddMMyyyy'
								} to {
									path : 'dataset>endda',
									formatter : 'util.DateFormatter.ddMMyyyy'
								} so you can pick an effective date of {
									path : 'dataset>endda',
									formatter : 'util.DateFormatter.add1Day'
								} or earlier.
								Additionally, the length of your horizon dictates how much training data your
								forecast requires - if there isn't enough, I'll let you know." />
							<f:SimpleForm
                id="idNewForecastParamsForm"
                maxContainerCols="2"
                editable="true"
                layout="ResponsiveGridLayout"
                labelSpanL="3"
                labelSpanM="3"
                emptySpanL="4"
                emptySpanM="4"
                columnsL="1"
                columnsM="1"
                class="editableForm">
                <f:content>
                  <Label
                    text="Effective date">
    								<layoutData>
    									<l:GridData
    										span="L4 M4 S12" />
    								</layoutData>
    							</Label>
									<DatePicker
										id="idNewForecastToDatePicker"
										displayFormat="dd/MM/yyyy">
										<layoutData>
    									<l:GridData span="L8 M8 S12" />
    								</layoutData>
									</DatePicker>

									<Label text="Forecast horizon">
										<layoutData>
											<l:GridData
												span="L4 M4 S12" />
										</layoutData>
									</Label>
									<Input
										id="idNewForecastHorizonInput">
										<layoutData>
    									<l:GridData span="L8 M8 S12" />
    								</layoutData>
									</Input>

									<Label text="Start of training period">
										<layoutData>
											<l:GridData
												span="L4 M4 S12" />
										</layoutData>
									</Label>
									<DatePicker
										id="idNewForecastFromDatePicker"
										displayFormat="dd/MM/yyyy">
										<layoutData>
    									<l:GridData span="L8 M8 S12" />
    								</layoutData>
									</DatePicker>

									<Label text="Validation period">
										<layoutData>
											<l:GridData
												span="L4 M4 S12" />
										</layoutData>
									</Label>
									<Input
										id="idNewForecastValidationInput">
										<layoutData>
    									<l:GridData span="L8 M8 S12" />
    								</layoutData>
									</Input>

									<Text text=" ">
										<layoutData>
											<l:GridData
												span="L4 M4 S1" />
										</layoutData>
									</Text>
									<CheckBox
										id="idNewForecastSmoothingCheckBox"
										text="Apply smoothing">
										<layoutData>
    									<l:GridData span="L8 M8 S11" />
    								</layoutData>
									</CheckBox>
                </f:content>
              </f:SimpleForm>
            </l:content>
          </l:Grid>
				</content>
      </Page>
    </pages>
  </NavContainer>
</mvc:View>
